package com.github.andresvasquez.event_repository.repository

import androidx.arch.core.executor.testing.InstantTaskExecutorRule
import androidx.paging.ExperimentalPagingApi
import androidx.paging.map
import com.github.andresvasquez.event_repository.data.source.EventRepository
import com.github.andresvasquez.event_repository.data.source.local.EventDTO
import com.github.andresvasquez.event_repository.data.source.remote.model.EventDetails
import com.github.andresvasquez.event_repository.model.NextTripSearch
import com.github.andresvasquez.event_repository.repository.fake.FakeLocalDataSource
import com.github.andresvasquez.event_repository.repository.fake.FakePrefsDataSource
import com.github.andresvasquez.event_repository.repository.fake.FakeRemoteDataSource
import com.github.andresvasquez.event_repository.repository.fake.FakeRepository
import com.github.andresvasquez.event_repository.utils.Constants
import com.google.gson.Gson
import kotlinx.coroutines.Dispatchers
import kotlinx.coroutines.ExperimentalCoroutinesApi
import kotlinx.coroutines.flow.collect
import kotlinx.coroutines.launch
import kotlinx.coroutines.runBlocking
import kotlinx.coroutines.test.runBlockingTest
import org.hamcrest.MatcherAssert.assertThat
import org.hamcrest.collection.IsEmptyCollection
import org.hamcrest.core.IsEqual
import org.hamcrest.core.IsNot
import org.junit.Before
import org.junit.Ignore
import org.junit.Rule
import org.junit.Test

@ExperimentalCoroutinesApi
@ExperimentalPagingApi
class RepositoryTest {
    @get:Rule
    val instantTaskExecutorRule = InstantTaskExecutorRule()

    private val searchScope = Constants.DEFAULT_NEXT_TRIP

    //Remote
    private val event1 = getEventFromJsonMocked(0)
    private val event2 = getEventFromJsonMocked(1)
    private val event3 = getEventFromJsonMocked(2)
    private val remoteEvents = listOf(event1, event2, event3).sortedBy { it.id }

    private lateinit var remoteDataSource: FakeRemoteDataSource
    private lateinit var localDataSource: FakeLocalDataSource
    private lateinit var prefsDataSource: FakePrefsDataSource

    //Class under test
    private lateinit var repository: FakeRepository

    @Before
    fun createRepository() {
        remoteDataSource = FakeRemoteDataSource(remoteEvents)
        localDataSource = FakeLocalDataSource()
        prefsDataSource = FakePrefsDataSource()

        repository = FakeRepository(
            prefsDataSource,
            localDataSource,
            remoteDataSource,
            Dispatchers.Unconfined
        )
    }

    @Test
    fun getEmptyEventsSequence() = runBlockingTest {
        //Given a next trip search
        val nextTripSearch = NextTripSearch(
            city = "La Paz",
            startDateTime = "2021-09-25T00:00:00Z",
            endDateTime = "2021-10-01T00:00:00Z",
            genreId = "KnvZfZ7v7l1",
            sort = Constants.API_SORT
        )

        //When save the scope and refresh data
        repository.saveNextTripPrefs(nextTripSearch)
        repository.refreshData()

        //Then review results
        //Prefs
        val inRepository = repository.getNextTripPrefs()
        assertThat(inRepository!!.city, IsEqual(nextTripSearch.city))

        //Remote and paging
        val action = launch {
            repository.getPagingEvents().collect { pagingData ->
                val events = mutableListOf<EventDTO>()
                pagingData.map {
                    events.add(it)
                }
                assertThat(events, IsEmptyCollection())
            }
        }
        action.cancel()
    }

    @Test @Ignore //TODO Fix this test
    fun getEventsSequence() = runBlockingTest {
        //Given a next trip search
        val nextTripSearch = Constants.DEFAULT_NEXT_TRIP

        //When save the scope and refresh data
        repository.saveNextTripPrefs(nextTripSearch)
        repository.refreshData()

        //Then review results
        //Prefs
        val inRepository = repository.getNextTripPrefs()
        assertThat(inRepository!!.city, IsEqual(nextTripSearch.city))

        //Remote and paging
        val action = launch {
            repository.getPagingEvents().collect { pagingData ->
                val events = mutableListOf<EventDTO>()
                pagingData.map {
                    events.add(it)
                }
                assertThat(events, IsNot(IsEmptyCollection()))
                //Content review
                assertThat(events[0].id, IsEqual(getEventFromJsonMocked(0).id))
                assertThat(events[1].id, IsEqual(getEventFromJsonMocked(1).id))
                assertThat(events[2].id, IsEqual(getEventFromJsonMocked(2).id))
            }
        }
        action.cancel()
    }
}

fun getEventFromJsonMocked(num: Int): EventDetails {
    var mockJson =
        "{\"name\":\"STOMP (NY)\",\"type\":\"event\",\"id\":\"G5dZZplPkgwos\",\"test\":false,\"url\":\"https://www.ticketmaster.com/stomp-ny-new-york-new-york-09-24-2021/event/30005AB946D72471\",\"locale\":\"en-us\",\"images\":[{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_TABLET_LANDSCAPE_16_9.jpg\",\"width\":1024,\"height\":576,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_TABLET_LANDSCAPE_LARGE_16_9.jpg\",\"width\":2048,\"height\":1152,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RETINA_LANDSCAPE_16_9.jpg\",\"width\":1136,\"height\":639,\"fallback\":false},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_ARTIST_PAGE_3_2.jpg\",\"width\":305,\"height\":203,\"fallback\":false},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_TABLET_LANDSCAPE_3_2.jpg\",\"width\":1024,\"height\":683,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_EVENT_DETAIL_PAGE_16_9.jpg\",\"width\":205,\"height\":115,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RECOMENDATION_16_9.jpg\",\"width\":100,\"height\":56,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RETINA_PORTRAIT_16_9.jpg\",\"width\":640,\"height\":360,\"fallback\":false},{\"ratio\":\"4_3\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_CUSTOM.jpg\",\"width\":305,\"height\":225,\"fallback\":false},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RETINA_PORTRAIT_3_2.jpg\",\"width\":640,\"height\":427,\"fallback\":false}],\"sales\":{\"public\":{\"startDateTime\":\"2021-06-28T16:00:00Z\",\"startTBD\":false,\"startTBA\":false,\"endDateTime\":\"2021-09-24T23:00:00Z\"}},\"dates\":{\"start\":{\"localDate\":\"2021-09-24\",\"localTime\":\"20:00:00\",\"dateTime\":\"2021-09-25T00:00:00Z\",\"dateTBD\":false,\"dateTBA\":false,\"timeTBA\":false,\"noSpecificTime\":false},\"timezone\":\"America/New_York\",\"status\":{\"code\":\"onsale\"},\"spanMultipleDays\":false},\"classifications\":[{\"primary\":true,\"segment\":{\"id\":\"KZFzniwnSyZfZ7v7na\",\"name\":\"Arts & Theatre\"},\"genre\":{\"id\":\"KnvZfZ7v7l1\",\"name\":\"Theatre\"},\"subGenre\":{\"id\":\"KZazBEonSMnZfZ7v7ll\",\"name\":\"Miscellaneous\"},\"type\":{\"id\":\"KZAyXgnZfZ7v7nI\",\"name\":\"Undefined\"},\"subType\":{\"id\":\"KZFzBErXgnZfZ7v7lJ\",\"name\":\"Undefined\"},\"family\":false}],\"promoter\":{\"id\":\"494\",\"name\":\"PROMOTED BY VENUE\",\"description\":\"PROMOTED BY VENUE / NTL / USA\"},\"promoters\":[{\"id\":\"494\",\"name\":\"PROMOTED BY VENUE\",\"description\":\"PROMOTED BY VENUE / NTL / USA\"}],\"info\":\"If this performance is cancelled or if your tickets need to be cancelled to comply with updated government COVID-19 requirements, you will receive a notification of cancellation and be offered an exchange or a full refund for your purchase. The theater has established COVID-19 health & safety measures (details at: stomponline.com) including, but not limited to, proof of full vaccination (for ages 12+) and wearing masks. By virtue of entering the theater, all ticket holders agree to comply with all venue health & safety measures which are subject to change between now and the performance date. Tickets purchased for this event may be exchanged or refunded subject to the terms and conditions of the theater exchange and refund policy.\",\"pleaseNote\":\"Important Event Info If this performance is cancelled or if your tickets need to be cancelled to comply with updated government COVID-19 requirements, you will receive a notification of cancellation and be offered an exchange or a full refund for your purchase. The theater has established COVID-19 health & safety measures (details at: stomponline.com) including, but not limited to, proof of full vaccination (for ages 12+) and wearing masks. By virtue of entering the theater, all ticket holders agree to comply with all venue health & safety measures which are subject to change between now and the performance date. Tickets purchased for this event may be exchanged or refunded subject to the terms and conditions of the theater exchange and refund policy.\",\"priceRanges\":[{\"type\":\"standard\",\"currency\":\"USD\",\"min\":48,\"max\":88}],\"seatmap\":{\"staticUrl\":\"https://maps.ticketmaster.com/maps/geometry/3/event/30005AB946D72471/staticImage?type=png&systemId=HOST\"},\"accessibility\":{\"ticketLimit\":4},\"ticketLimit\":{\"info\":\"There is a nineteen (19) ticket limit per person.\"},\"ageRestrictions\":{\"legalAgeEnforced\":false},\"_links\":{\"self\":{\"href\":\"/discovery/v2/events/G5dZZplPkgwos?locale=en-us\"},\"attractions\":[{\"href\":\"/discovery/v2/attractions/K8vZ9171pQ0?locale=en-us\"}],\"venues\":[{\"href\":\"/discovery/v2/venues/KovZpZAF7etA?locale=en-us\"}]},\"_embedded\":{\"venues\":[{\"name\":\"Orpheum Theatre\",\"type\":\"venue\",\"id\":\"KovZpZAF7etA\",\"test\":false,\"url\":\"https://www.ticketmaster.com/orpheum-theatre-tickets-new-york/venue/393233\",\"locale\":\"en-us\",\"images\":[{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dbimages/15375v.jpg\",\"width\":205,\"height\":115,\"fallback\":false}],\"postalCode\":\"10003\",\"timezone\":\"America/New_York\",\"city\":{\"name\":\"New York\"},\"state\":{\"name\":\"New York\",\"stateCode\":\"NY\"},\"country\":{\"name\":\"United States Of America\",\"countryCode\":\"US\"},\"address\":{\"line1\":\"126 Second Ave.\"},\"location\":{\"longitude\":\"-73.987498\",\"latitude\":\"40.728188\"},\"markets\":[{\"name\":\"New York/Tri-State Area\",\"id\":\"35\"},{\"name\":\"Northern New Jersey\",\"id\":\"55\"},{\"name\":\"Connecticut\",\"id\":\"124\"}],\"dmas\":[{\"id\":296},{\"id\":345},{\"id\":422}],\"boxOfficeInfo\":{\"phoneNumberDetail\":\"The Box Office is open for sales by a walk in service only!\",\"openHoursDetail\":\"Monday: 1:00pm - 6:00pm Tue - Fri: 1:00pm - 8:00pm Saturday: 12:00pm - 8:00pm Sun: 1:00pm - 12(Noon) - 7:00pm\",\"acceptedPaymentDetail\":\"CashAmExVisaMC\",\"willCallDetail\":\"Pick up tickets one hour prior to the show. Customer must present the actual credit card used to place the order and a photo ID.\"},\"parkingDetail\":\"There is a garage located on 9th Street between 2nd & 3rd Avenue. All on-street parking is metered until after 2:00am.\",\"accessibleSeatingDetail\":\"All seats require stepping up stairs. The theatre is not equipped with elevators or escalators. Call the Box Office for more information. Orchestra Balcony (Balcony Row AA overhangs Orchestra Row J)\",\"generalInfo\":{\"generalRule\":\"NO smoking in the theatre NO food allowed in the theatre NO cameras, video cameras, or audio recording devices allowed **Latecomers will be seated at an appropriate time during the show at the theatres discretion**\",\"childRule\":\"Children must be at least 4 years old to attend STOMP. Everyone must have a ticket.\"},\"upcomingEvents\":{\"_total\":394,\"ticketmaster\":394},\"_links\":{\"self\":{\"href\":\"/discovery/v2/venues/KovZpZAF7etA?locale=en-us\"}}}],\"attractions\":[{\"name\":\"STOMP (NY)\",\"type\":\"attraction\",\"id\":\"K8vZ9171pQ0\",\"test\":false,\"url\":\"https://www.ticketmaster.com/stomp-ny-tickets/artist/844123\",\"locale\":\"en-us\",\"images\":[{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_TABLET_LANDSCAPE_16_9.jpg\",\"width\":1024,\"height\":576,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_TABLET_LANDSCAPE_LARGE_16_9.jpg\",\"width\":2048,\"height\":1152,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RETINA_LANDSCAPE_16_9.jpg\",\"width\":1136,\"height\":639,\"fallback\":false},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_ARTIST_PAGE_3_2.jpg\",\"width\":305,\"height\":203,\"fallback\":false},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_TABLET_LANDSCAPE_3_2.jpg\",\"width\":1024,\"height\":683,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_EVENT_DETAIL_PAGE_16_9.jpg\",\"width\":205,\"height\":115,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RECOMENDATION_16_9.jpg\",\"width\":100,\"height\":56,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RETINA_PORTRAIT_16_9.jpg\",\"width\":640,\"height\":360,\"fallback\":false},{\"ratio\":\"4_3\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_CUSTOM.jpg\",\"width\":305,\"height\":225,\"fallback\":false},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RETINA_PORTRAIT_3_2.jpg\",\"width\":640,\"height\":427,\"fallback\":false}],\"classifications\":[{\"primary\":true,\"segment\":{\"id\":\"KZFzniwnSyZfZ7v7na\",\"name\":\"Arts & Theatre\"},\"genre\":{\"id\":\"KnvZfZ7v7l1\",\"name\":\"Theatre\"},\"subGenre\":{\"id\":\"KZazBEonSMnZfZ7v7ll\",\"name\":\"Miscellaneous\"},\"type\":{\"id\":\"KZAyXgnZfZ7v7nI\",\"name\":\"Undefined\"},\"subType\":{\"id\":\"KZFzBErXgnZfZ7v7lJ\",\"name\":\"Undefined\"},\"family\":false}],\"upcomingEvents\":{\"_total\":394,\"ticketmaster\":394},\"_links\":{\"self\":{\"href\":\"/discovery/v2/attractions/K8vZ9171pQ0?locale=en-us\"}}}]}}"
    when (num) {
        0 -> mockJson =
            "{\"name\":\"STOMP (NY)\",\"type\":\"event\",\"id\":\"G5dZZplPkgwos\",\"test\":false,\"url\":\"https://www.ticketmaster.com/stomp-ny-new-york-new-york-09-24-2021/event/30005AB946D72471\",\"locale\":\"en-us\",\"images\":[{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_TABLET_LANDSCAPE_16_9.jpg\",\"width\":1024,\"height\":576,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_TABLET_LANDSCAPE_LARGE_16_9.jpg\",\"width\":2048,\"height\":1152,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RETINA_LANDSCAPE_16_9.jpg\",\"width\":1136,\"height\":639,\"fallback\":false},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_ARTIST_PAGE_3_2.jpg\",\"width\":305,\"height\":203,\"fallback\":false},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_TABLET_LANDSCAPE_3_2.jpg\",\"width\":1024,\"height\":683,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_EVENT_DETAIL_PAGE_16_9.jpg\",\"width\":205,\"height\":115,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RECOMENDATION_16_9.jpg\",\"width\":100,\"height\":56,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RETINA_PORTRAIT_16_9.jpg\",\"width\":640,\"height\":360,\"fallback\":false},{\"ratio\":\"4_3\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_CUSTOM.jpg\",\"width\":305,\"height\":225,\"fallback\":false},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RETINA_PORTRAIT_3_2.jpg\",\"width\":640,\"height\":427,\"fallback\":false}],\"sales\":{\"public\":{\"startDateTime\":\"2021-06-28T16:00:00Z\",\"startTBD\":false,\"startTBA\":false,\"endDateTime\":\"2021-09-24T23:00:00Z\"}},\"dates\":{\"start\":{\"localDate\":\"2021-09-24\",\"localTime\":\"20:00:00\",\"dateTime\":\"2021-09-25T00:00:00Z\",\"dateTBD\":false,\"dateTBA\":false,\"timeTBA\":false,\"noSpecificTime\":false},\"timezone\":\"America/New_York\",\"status\":{\"code\":\"onsale\"},\"spanMultipleDays\":false},\"classifications\":[{\"primary\":true,\"segment\":{\"id\":\"KZFzniwnSyZfZ7v7na\",\"name\":\"Arts & Theatre\"},\"genre\":{\"id\":\"KnvZfZ7v7l1\",\"name\":\"Theatre\"},\"subGenre\":{\"id\":\"KZazBEonSMnZfZ7v7ll\",\"name\":\"Miscellaneous\"},\"type\":{\"id\":\"KZAyXgnZfZ7v7nI\",\"name\":\"Undefined\"},\"subType\":{\"id\":\"KZFzBErXgnZfZ7v7lJ\",\"name\":\"Undefined\"},\"family\":false}],\"promoter\":{\"id\":\"494\",\"name\":\"PROMOTED BY VENUE\",\"description\":\"PROMOTED BY VENUE / NTL / USA\"},\"promoters\":[{\"id\":\"494\",\"name\":\"PROMOTED BY VENUE\",\"description\":\"PROMOTED BY VENUE / NTL / USA\"}],\"info\":\"If this performance is cancelled or if your tickets need to be cancelled to comply with updated government COVID-19 requirements, you will receive a notification of cancellation and be offered an exchange or a full refund for your purchase. The theater has established COVID-19 health & safety measures (details at: stomponline.com) including, but not limited to, proof of full vaccination (for ages 12+) and wearing masks. By virtue of entering the theater, all ticket holders agree to comply with all venue health & safety measures which are subject to change between now and the performance date. Tickets purchased for this event may be exchanged or refunded subject to the terms and conditions of the theater exchange and refund policy.\",\"pleaseNote\":\"Important Event Info If this performance is cancelled or if your tickets need to be cancelled to comply with updated government COVID-19 requirements, you will receive a notification of cancellation and be offered an exchange or a full refund for your purchase. The theater has established COVID-19 health & safety measures (details at: stomponline.com) including, but not limited to, proof of full vaccination (for ages 12+) and wearing masks. By virtue of entering the theater, all ticket holders agree to comply with all venue health & safety measures which are subject to change between now and the performance date. Tickets purchased for this event may be exchanged or refunded subject to the terms and conditions of the theater exchange and refund policy.\",\"priceRanges\":[{\"type\":\"standard\",\"currency\":\"USD\",\"min\":48,\"max\":88}],\"seatmap\":{\"staticUrl\":\"https://maps.ticketmaster.com/maps/geometry/3/event/30005AB946D72471/staticImage?type=png&systemId=HOST\"},\"accessibility\":{\"ticketLimit\":4},\"ticketLimit\":{\"info\":\"There is a nineteen (19) ticket limit per person.\"},\"ageRestrictions\":{\"legalAgeEnforced\":false},\"_links\":{\"self\":{\"href\":\"/discovery/v2/events/G5dZZplPkgwos?locale=en-us\"},\"attractions\":[{\"href\":\"/discovery/v2/attractions/K8vZ9171pQ0?locale=en-us\"}],\"venues\":[{\"href\":\"/discovery/v2/venues/KovZpZAF7etA?locale=en-us\"}]},\"_embedded\":{\"venues\":[{\"name\":\"Orpheum Theatre\",\"type\":\"venue\",\"id\":\"KovZpZAF7etA\",\"test\":false,\"url\":\"https://www.ticketmaster.com/orpheum-theatre-tickets-new-york/venue/393233\",\"locale\":\"en-us\",\"images\":[{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dbimages/15375v.jpg\",\"width\":205,\"height\":115,\"fallback\":false}],\"postalCode\":\"10003\",\"timezone\":\"America/New_York\",\"city\":{\"name\":\"New York\"},\"state\":{\"name\":\"New York\",\"stateCode\":\"NY\"},\"country\":{\"name\":\"United States Of America\",\"countryCode\":\"US\"},\"address\":{\"line1\":\"126 Second Ave.\"},\"location\":{\"longitude\":\"-73.987498\",\"latitude\":\"40.728188\"},\"markets\":[{\"name\":\"New York/Tri-State Area\",\"id\":\"35\"},{\"name\":\"Northern New Jersey\",\"id\":\"55\"},{\"name\":\"Connecticut\",\"id\":\"124\"}],\"dmas\":[{\"id\":296},{\"id\":345},{\"id\":422}],\"boxOfficeInfo\":{\"phoneNumberDetail\":\"The Box Office is open for sales by a walk in service only!\",\"openHoursDetail\":\"Monday: 1:00pm - 6:00pm Tue - Fri: 1:00pm - 8:00pm Saturday: 12:00pm - 8:00pm Sun: 1:00pm - 12(Noon) - 7:00pm\",\"acceptedPaymentDetail\":\"CashAmExVisaMC\",\"willCallDetail\":\"Pick up tickets one hour prior to the show. Customer must present the actual credit card used to place the order and a photo ID.\"},\"parkingDetail\":\"There is a garage located on 9th Street between 2nd & 3rd Avenue. All on-street parking is metered until after 2:00am.\",\"accessibleSeatingDetail\":\"All seats require stepping up stairs. The theatre is not equipped with elevators or escalators. Call the Box Office for more information. Orchestra Balcony (Balcony Row AA overhangs Orchestra Row J)\",\"generalInfo\":{\"generalRule\":\"NO smoking in the theatre NO food allowed in the theatre NO cameras, video cameras, or audio recording devices allowed **Latecomers will be seated at an appropriate time during the show at the theatres discretion**\",\"childRule\":\"Children must be at least 4 years old to attend STOMP. Everyone must have a ticket.\"},\"upcomingEvents\":{\"_total\":394,\"ticketmaster\":394},\"_links\":{\"self\":{\"href\":\"/discovery/v2/venues/KovZpZAF7etA?locale=en-us\"}}}],\"attractions\":[{\"name\":\"STOMP (NY)\",\"type\":\"attraction\",\"id\":\"K8vZ9171pQ0\",\"test\":false,\"url\":\"https://www.ticketmaster.com/stomp-ny-tickets/artist/844123\",\"locale\":\"en-us\",\"images\":[{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_TABLET_LANDSCAPE_16_9.jpg\",\"width\":1024,\"height\":576,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_TABLET_LANDSCAPE_LARGE_16_9.jpg\",\"width\":2048,\"height\":1152,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RETINA_LANDSCAPE_16_9.jpg\",\"width\":1136,\"height\":639,\"fallback\":false},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_ARTIST_PAGE_3_2.jpg\",\"width\":305,\"height\":203,\"fallback\":false},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_TABLET_LANDSCAPE_3_2.jpg\",\"width\":1024,\"height\":683,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_EVENT_DETAIL_PAGE_16_9.jpg\",\"width\":205,\"height\":115,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RECOMENDATION_16_9.jpg\",\"width\":100,\"height\":56,\"fallback\":false},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RETINA_PORTRAIT_16_9.jpg\",\"width\":640,\"height\":360,\"fallback\":false},{\"ratio\":\"4_3\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_CUSTOM.jpg\",\"width\":305,\"height\":225,\"fallback\":false},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/a/7e7/8f142f4c-b7df-42cd-963d-12d46b8467e7_224141_RETINA_PORTRAIT_3_2.jpg\",\"width\":640,\"height\":427,\"fallback\":false}],\"classifications\":[{\"primary\":true,\"segment\":{\"id\":\"KZFzniwnSyZfZ7v7na\",\"name\":\"Arts & Theatre\"},\"genre\":{\"id\":\"KnvZfZ7v7l1\",\"name\":\"Theatre\"},\"subGenre\":{\"id\":\"KZazBEonSMnZfZ7v7ll\",\"name\":\"Miscellaneous\"},\"type\":{\"id\":\"KZAyXgnZfZ7v7nI\",\"name\":\"Undefined\"},\"subType\":{\"id\":\"KZFzBErXgnZfZ7v7lJ\",\"name\":\"Undefined\"},\"family\":false}],\"upcomingEvents\":{\"_total\":394,\"ticketmaster\":394},\"_links\":{\"self\":{\"href\":\"/discovery/v2/attractions/K8vZ9171pQ0?locale=en-us\"}}}]}}"
        1 -> mockJson =
            "{\"name\":\"Chicago - The Musical\",\"type\":\"event\",\"id\":\"Z7r9jZ1AdeAaz\",\"test\":false,\"url\":\"http://www.ticketsnow.com/InventoryBrowse/TicketList.aspx?PID=3085278\",\"locale\":\"en-us\",\"images\":[{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RECOMENDATION_16_9.jpg\",\"width\":100,\"height\":56,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_TABLET_LANDSCAPE_16_9.jpg\",\"width\":1024,\"height\":576,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RETINA_LANDSCAPE_16_9.jpg\",\"width\":1136,\"height\":639,\"fallback\":true},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_ARTIST_PAGE_3_2.jpg\",\"width\":305,\"height\":203,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_EVENT_DETAIL_PAGE_16_9.jpg\",\"width\":205,\"height\":115,\"fallback\":true},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_TABLET_LANDSCAPE_3_2.jpg\",\"width\":1024,\"height\":683,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RETINA_PORTRAIT_16_9.jpg\",\"width\":640,\"height\":360,\"fallback\":true},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RETINA_PORTRAIT_3_2.jpg\",\"width\":640,\"height\":427,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_TABLET_LANDSCAPE_LARGE_16_9.jpg\",\"width\":2048,\"height\":1152,\"fallback\":true},{\"ratio\":\"4_3\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_CUSTOM.jpg\",\"width\":305,\"height\":225,\"fallback\":true}],\"sales\":{\"public\":{\"startDateTime\":\"1900-01-01T06:00:00Z\",\"startTBD\":false,\"startTBA\":false,\"endDateTime\":\"2021-09-25T00:00:00Z\"}},\"dates\":{\"start\":{\"localDate\":\"2021-09-24\",\"localTime\":\"20:00:00\",\"dateTime\":\"2021-09-25T00:00:00Z\",\"dateTBD\":false,\"dateTBA\":false,\"timeTBA\":false,\"noSpecificTime\":false},\"status\":{\"code\":\"onsale\"},\"spanMultipleDays\":false},\"classifications\":[{\"primary\":true,\"segment\":{\"id\":\"KZFzniwnSyZfZ7v7na\",\"name\":\"Arts & Theatre\"},\"genre\":{\"id\":\"KnvZfZ7v7l1\",\"name\":\"Theatre\"},\"subGenre\":{\"id\":\"KZazBEonSMnZfZ7vAve\",\"name\":\"Musical\"},\"family\":false}],\"outlets\":[{\"url\":\"http://www.shubert.nyc/theatres/ambassador/\",\"type\":\"venueBoxOffice\"},{\"url\":\"https://www.ticketmaster.com/chicago-the-musical-new-york-new-york-09-24-2021/event/Z7r9jZ1AdeAaz\",\"type\":\"tmMarketPlace\"}],\"seatmap\":{\"staticUrl\":\"http://resale.ticketmaster.com.au/akamai-content/maps/54-1-4-main.gif\"},\"_links\":{\"self\":{\"href\":\"/discovery/v2/events/Z7r9jZ1AdeAaz?locale=en-us\"},\"attractions\":[{\"href\":\"/discovery/v2/attractions/K8vZ9171p_0?locale=en-us\"}],\"venues\":[{\"href\":\"/discovery/v2/venues/Zkr9jZkAeP?locale=en-us\"}]},\"_embedded\":{\"venues\":[{\"name\":\"Ambassador Theatre-NY\",\"type\":\"venue\",\"id\":\"Zkr9jZkAeP\",\"test\":false,\"locale\":\"en-us\",\"postalCode\":\"10019\",\"timezone\":\"America/New_York\",\"city\":{\"name\":\"New York\"},\"state\":{\"name\":\"New York\",\"stateCode\":\"NY\"},\"country\":{\"name\":\"United States Of America\",\"countryCode\":\"US\"},\"address\":{\"line1\":\"215 W. 49th St.\"},\"location\":{\"longitude\":\"-73.985298\",\"latitude\":\"40.765202\"},\"dmas\":[{\"id\":345}],\"upcomingEvents\":{\"_total\":114,\"tmr\":114},\"_links\":{\"self\":{\"href\":\"/discovery/v2/venues/Zkr9jZkAeP?locale=en-us\"}}}],\"attractions\":[{\"name\":\"Chicago the Musical (Touring)\",\"type\":\"attraction\",\"id\":\"K8vZ9171p_0\",\"test\":false,\"url\":\"https://www.ticketmaster.com/chicago-the-musical-touring-tickets/artist/844316\",\"locale\":\"en-us\",\"images\":[{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RECOMENDATION_16_9.jpg\",\"width\":100,\"height\":56,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_TABLET_LANDSCAPE_16_9.jpg\",\"width\":1024,\"height\":576,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RETINA_LANDSCAPE_16_9.jpg\",\"width\":1136,\"height\":639,\"fallback\":true},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_ARTIST_PAGE_3_2.jpg\",\"width\":305,\"height\":203,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_EVENT_DETAIL_PAGE_16_9.jpg\",\"width\":205,\"height\":115,\"fallback\":true},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_TABLET_LANDSCAPE_3_2.jpg\",\"width\":1024,\"height\":683,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RETINA_PORTRAIT_16_9.jpg\",\"width\":640,\"height\":360,\"fallback\":true},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RETINA_PORTRAIT_3_2.jpg\",\"width\":640,\"height\":427,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_TABLET_LANDSCAPE_LARGE_16_9.jpg\",\"width\":2048,\"height\":1152,\"fallback\":true},{\"ratio\":\"4_3\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_CUSTOM.jpg\",\"width\":305,\"height\":225,\"fallback\":true}],\"classifications\":[{\"primary\":true,\"segment\":{\"id\":\"KZFzniwnSyZfZ7v7na\",\"name\":\"Arts & Theatre\"},\"genre\":{\"id\":\"KnvZfZ7v7l1\",\"name\":\"Theatre\"},\"subGenre\":{\"id\":\"KZazBEonSMnZfZ7vAve\",\"name\":\"Musical\"},\"type\":{\"id\":\"KZAyXgnZfZ7v7nI\",\"name\":\"Undefined\"},\"subType\":{\"id\":\"KZFzBErXgnZfZ7v7lJ\",\"name\":\"Undefined\"},\"family\":false}],\"upcomingEvents\":{\"_total\":114,\"tmr\":114},\"_links\":{\"self\":{\"href\":\"/discovery/v2/attractions/K8vZ9171p_0?locale=en-us\"}}}]}}"
        2 -> mockJson =
            "{\"name\":\"Moulin Rouge\",\"type\":\"event\",\"id\":\"Z7r9jZ1AdvOf6\",\"test\":false,\"url\":\"http://www.ticketsnow.com/InventoryBrowse/TicketList.aspx?PID=3060507\",\"locale\":\"en-us\",\"images\":[{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RETINA_PORTRAIT_16_9.jpg\",\"width\":640,\"height\":360,\"fallback\":true},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RETINA_PORTRAIT_3_2.jpg\",\"width\":640,\"height\":427,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RECOMENDATION_16_9.jpg\",\"width\":100,\"height\":56,\"fallback\":true},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_ARTIST_PAGE_3_2.jpg\",\"width\":305,\"height\":203,\"fallback\":true},{\"ratio\":\"4_3\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_CUSTOM.jpg\",\"width\":305,\"height\":225,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_EVENT_DETAIL_PAGE_16_9.jpg\",\"width\":205,\"height\":115,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_TABLET_LANDSCAPE_16_9.jpg\",\"width\":1024,\"height\":576,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RETINA_LANDSCAPE_16_9.jpg\",\"width\":1136,\"height\":639,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_TABLET_LANDSCAPE_LARGE_16_9.jpg\",\"width\":2048,\"height\":1152,\"fallback\":true},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_TABLET_LANDSCAPE_3_2.jpg\",\"width\":1024,\"height\":683,\"fallback\":true}],\"sales\":{\"public\":{\"startDateTime\":\"1900-01-01T18:00:00Z\",\"startTBD\":false,\"startTBA\":false,\"endDateTime\":\"2021-09-25T00:00:00Z\"}},\"dates\":{\"start\":{\"localDate\":\"2021-09-24\",\"localTime\":\"20:00:00\",\"dateTime\":\"2021-09-25T00:00:00Z\",\"dateTBD\":false,\"dateTBA\":false,\"timeTBA\":false,\"noSpecificTime\":false},\"status\":{\"code\":\"onsale\"},\"spanMultipleDays\":false},\"classifications\":[{\"primary\":true,\"segment\":{\"id\":\"KZFzniwnSyZfZ7v7na\",\"name\":\"Arts & Theatre\"},\"genre\":{\"id\":\"KnvZfZ7v7l1\",\"name\":\"Theatre\"},\"subGenre\":{\"id\":\"KZazBEonSMnZfZ7vAve\",\"name\":\"Musical\"},\"family\":false}],\"outlets\":[{\"url\":\"http://www.jujamcyn.com/\",\"type\":\"venueBoxOffice\"},{\"url\":\"https://www.ticketmaster.com/moulin-rouge-new-york-new-york-09-24-2021/event/Z7r9jZ1AdvOf6\",\"type\":\"tmMarketPlace\"}],\"seatmap\":{\"staticUrl\":\"http://resale.ticketmaster.com.au/akamai-content/maps/3008-1-1-main.gif\"},\"_links\":{\"self\":{\"href\":\"/discovery/v2/events/Z7r9jZ1AdvOf6?locale=en-us\"},\"attractions\":[{\"href\":\"/discovery/v2/attractions/K8vZ9175GKV?locale=en-us\"}],\"venues\":[{\"href\":\"/discovery/v2/venues/ZFr9jZ7vva?locale=en-us\"}]},\"_embedded\":{\"venues\":[{\"name\":\"Al Hirschfeld Theatre\",\"type\":\"venue\",\"id\":\"ZFr9jZ7vva\",\"test\":false,\"locale\":\"en-us\",\"postalCode\":\"10036\",\"timezone\":\"America/New_York\",\"city\":{\"name\":\"New York\"},\"state\":{\"name\":\"New York\",\"stateCode\":\"NY\"},\"country\":{\"name\":\"United States Of America\",\"countryCode\":\"US\"},\"address\":{\"line1\":\"302 West 45th Street\"},\"location\":{\"longitude\":\"-73.990196\",\"latitude\":\"40.7593\"},\"dmas\":[{\"id\":345}],\"upcomingEvents\":{\"_total\":17,\"tmr\":17},\"_links\":{\"self\":{\"href\":\"/discovery/v2/venues/ZFr9jZ7vva?locale=en-us\"}}}],\"attractions\":[{\"name\":\"Moulin Rouge (Touring)\",\"type\":\"attraction\",\"id\":\"K8vZ9175GKV\",\"test\":false,\"url\":\"https://www.ticketmaster.com/moulin-rouge-touring-tickets/artist/835426\",\"locale\":\"en-us\",\"images\":[{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RETINA_PORTRAIT_16_9.jpg\",\"width\":640,\"height\":360,\"fallback\":true},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RETINA_PORTRAIT_3_2.jpg\",\"width\":640,\"height\":427,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RECOMENDATION_16_9.jpg\",\"width\":100,\"height\":56,\"fallback\":true},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_ARTIST_PAGE_3_2.jpg\",\"width\":305,\"height\":203,\"fallback\":true},{\"ratio\":\"4_3\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_CUSTOM.jpg\",\"width\":305,\"height\":225,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_EVENT_DETAIL_PAGE_16_9.jpg\",\"width\":205,\"height\":115,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_TABLET_LANDSCAPE_16_9.jpg\",\"width\":1024,\"height\":576,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_RETINA_LANDSCAPE_16_9.jpg\",\"width\":1136,\"height\":639,\"fallback\":true},{\"ratio\":\"16_9\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_TABLET_LANDSCAPE_LARGE_16_9.jpg\",\"width\":2048,\"height\":1152,\"fallback\":true},{\"ratio\":\"3_2\",\"url\":\"https://s1.ticketm.net/dam/c/07d/fda8c807-42eb-4b81-9f16-f3a8367e107d_106371_TABLET_LANDSCAPE_3_2.jpg\",\"width\":1024,\"height\":683,\"fallback\":true}],\"classifications\":[{\"primary\":true,\"segment\":{\"id\":\"KZFzniwnSyZfZ7v7na\",\"name\":\"Arts & Theatre\"},\"genre\":{\"id\":\"KnvZfZ7v7l1\",\"name\":\"Theatre\"},\"subGenre\":{\"id\":\"KZazBEonSMnZfZ7vAve\",\"name\":\"Musical\"},\"type\":{\"id\":\"KZAyXgnZfZ7v7nI\",\"name\":\"Undefined\"},\"subType\":{\"id\":\"KZFzBErXgnZfZ7v7lJ\",\"name\":\"Undefined\"},\"family\":false}],\"upcomingEvents\":{\"_total\":111,\"tmr\":111},\"_links\":{\"self\":{\"href\":\"/discovery/v2/attractions/K8vZ9175GKV?locale=en-us\"}}}]}}"
    }
    return Gson().fromJson(mockJson, EventDetails::class.java)
}